# EIOS Worker Service - Railway Configuration
# Background job processor

[build]
builder = "DOCKER"
dockerfilePath = "Dockerfile"

[deploy]
startCommand = ""
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Workers don't expose HTTP, so no healthcheck path
# Railway monitors the process health

[deploy.resources]
cpu = "0.5x"
memory = "256Mi"

[deploy.variables]
# Worker Configuration
NODE_ENV = "production"
LOG_LEVEL = "info"
WORKER_POLL_INTERVAL_MS = "5000"

# Database (from Railway Postgres)
# DATABASE_URL - injected by Railway

# Redis (from Railway Redis)
# REDIS_URL - injected by Railway
# REDIS_PUBLIC_URL - injected by Railway

# Internal service URLs
API_INTERNAL_URL = "http://api.railway.internal:4000"
REALTIME_INTERNAL_URL = "http://realtime.railway.internal:4100"
WORKER_INTERNAL_URL = "http://worker.railway.internal:4200"
WEB_INTERNAL_URL = "http://web.railway.internal:3000"
